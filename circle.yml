machine:
  xcode:
    version: "6.4.0"

dependencies:
  override:
    - brew update
    - brew install carthage
    - carthage bootstrap

# despite what circle ci says, xctool 0.2.3 cannot run
# ios simulator tests on iOS frameworks for whatever reason.
#
# See: https://github.com/facebook/xctool/issues/415
test:
  override:
    - carthage build --no-skip-current
    - rake test:ios
    - rake test:osx
