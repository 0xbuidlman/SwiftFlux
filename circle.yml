machine:
  xcode:
    version: "6.3.1"

dependencies:
  pre:
    - sudo chown :wheel /Library/Developer/CoreSimulator/Profiles/Runtimes/iOS\ *.simruntime/Contents/Resources/RuntimeRoot/usr/lib/dyld_sim
    - brew update
    - brew install carthage

# despite what circle ci says, xctool 0.2.3 cannot run
# ios simulator tests on iOS frameworks for whatever reason.
#
# See: https://github.com/facebook/xctool/issues/415
test:
  override:
    - carthage bootstrap --verbose
    - rake test:ios
    - rake test:osx
